// Modal
//
// Animated modal popup with darkened overlay switched by pure CSS.
//
// Markup: html/modal.html
//
// Styleguide 2.modal

$modal-width: 400px

// Block
// --------------------------------------------------
// .modal

// Elements
// --------------------------------------------------
.modal__input
  // Visually hide checkbox button
  position: absolute
  opacity: 0

.modal__inner
  display: none
  position: fixed
  top: 30%
  width: $modal-width
  box-shadow: 0 5px 10px 0 lighten($gray-base, 30%)
  z-index: 101

.modal__title
  background-color: $brand-primary
  padding: 10px 30px
  color: #fff
  text-align: center
  font-weight: $font-weight-bold

.modal__content
  background-color: #fff
  padding: 30px
  font-weight: $font-weight-bold

.modal__overlay
  display: none
  +overlay


// States
// --------------------------------------------------
.modal__input:focus ~ .modal__inner
  display: block
  animation:
    name: modal-inner
    duration: 250ms
    timing-function: ease-in-out
    iteration-count: 1
    fill-mode: forwards
.modal__input:focus ~ .modal__overlay
  display: block
  animation:
    name: modal-overlay
    duration: 250ms
    timing-function: ease-in-out
    iteration-count: 1
    fill-mode: forwards

// Prevent closing element when clicking inside.
.modal__inner:hover
  &,
  & + .modal__overlay
    display: block !important


@keyframes modal-overlay
  0%
    opacity: 0
  100%
    opacity: 1

@keyframes modal-inner
  0%
    opacity: 0
  100%
    opacity: 1
