// Listing
//
// Various types of listings that can be used on every project
// This should be customised per project
//
// Markup: html/listing.html
//
// Styleguide 4.1

// Default listing styling and modifiers
//
// Markup: html/listing.html
//
// .listing--condensed             - Listing with reduced spacing between items
// .listing--zebra                 - Listing with different background color on even items
// .listing--no-separators         - Removes separator between every listing item
// .listing--separators-dashed     - Adds dashed border separator between every listing item
// .listing--column-second-above   - Listing where second column is always above the main listing item content
//
// Styleguide 4.1.1

$listing-media-width-phone: 160px
$listing-media-height-phone: 145px
$listing-media-width-desktop: 270px
$listing-media-height-desktop: 145px

// Component
// --------------------------------------------------
.listing
  margin-bottom: 20px


// Elements
// --------------------------------------------------
.listing__item
  border-bottom: 1px $gray-lighter solid
  padding-bottom: 30px
  &:last-child
    padding-bottom: 0
    border-bottom: none

.listing__item
  overflow: hidden
  padding-top: 30px
  p
    margin: 0
    text-align: justify


.listing__item-column-second
  width: 100%
  margin-bottom: 10px
  text-align: center


.listing__item-text
  overflow: hidden


.listing__item-title
  margin-top: 0
  a
    color: $gray-base

  h2, h3
    margin: 0 !important



.listing__item-meta
  font-size: $font-size-small
  color: $gray-light
  width: 100%
  margin-bottom: $line-height-computed / 3


.listing__item-footer
  margin-top: $line-height-computed / 2
  overflow: hidden


.listing__icon
  color: $brand-primary
  font-size: $font-size-large
  position: relative
  top: 2px


+breakpoint(phone)
  .listing__item-column-second
    float: left
    margin-right: 30px
    max-width: $listing-media-width-phone
    overflow: hidden

    .listing__item-media-icon
      width: 40px
      height: 40px
      background-color: $gray-lightest
      text-align: center
      .icon
        +icon-size(40px)
        margin-top: -6px

// Modifiers
// --------------------------------------------------
.listing--condensed
  .listing__item
    padding-top: 15px
    font-size: $font-size-small
    h3.listing__item-title
      font-size: $font-size-base

    h4.listing__item-title
      font-size: $font-size-small

  .listing__item-meta
    font-family: $font-family-sans-condensed
    font-weight: $headings-font-weight


  &.listing--separators-dashed
    .listing__item
      padding-bottom: 15px

      &:last-child
        padding-bottom: 0

.listing--column-second-above
  .listing__item-column-second
    max-width: none
    float: none
    margin-right: 0
    margin-bottom: 20px
    width: 100%
    img
      width: 100%


.listing--zebra
  .listing__item:nth-of-type(even)
    background-color: $gray-lightest


.listing--no-separators
  .listing__item
    border-bottom: none
    padding-bottom: 0


.listing--separators-dashed
  .listing__item
    border-bottom: 1px $gray-light dashed


// Listing middle align
//
// Listing middle align
//
// Markup: html/listing-middlealign.html
//
// Styleguide 4.1.2

.listing--middlealign
  font-size: $font-size-small
  .listing__item
    padding: 20px 0
    width: 100%
    @include middle-align()
    &:first-child
      padding-top: 0

    .listing__item-row
      // Row settings inherit from mixin

    .listing__item-col
      // Col settings inherit from mixin
      &:nth-of-type(2)
        min-width: 25%

      &:nth-of-type(3)
        min-width: 20%

      &:nth-of-type(4)
        min-width: 10%

.listing--middlealign .icon
  font-size: $font-size-h1
  top: $font-size-base


// Listing numbered
//
// Listing with big full height numbers at the left.
//
// Markup: html/listing-numbered.html
//
// Styleguide 4.1.3


// Component
// --------------------------------------------------
.listing--numbered
  counter-reset: listing--numbered
  .listing__item
    +arrow($gray-light, #fff, 'left', 'in', 10px, 50px)
    margin: 35px 0 15px 80px
    padding-bottom: 0
    position: relative
    overflow: visible
    border-bottom: none

  .listing__item-text
    padding-left: 55px
    margin-bottom: $line-height-computed
    &:before
      content: counter(listing--numbered)
      counter-increment: listing--numbered
      position: absolute
      left: -80px
      top: 50%
      width: 80px
      height: 60px
      margin: -30px 0
      text-align: center
      font-size: $font-size-h1 * 4/5

    p:not(:last-child)
      margin-bottom: $line-height-computed / 2


  .listing__item-title
    margin-bottom: $line-height-computed / 2
    font-size: $font-size-h3 + 3

  .listing__item-footer
    background-color: $gray-lightest
    padding: 0 10px 0 35px
    a, button
      color: $brand-primary

.listing--numbered.listing--condensed
  .listing__item
    +arrow($gray-light, #fff, 'left', 'in', 5px, 10px)
    padding: 5px 10px 5px 0
    margin: 5px 0 5px 30px

  .listing__item-text
    padding-left: 30px
    margin-bottom: 0
    &:before
      left: -30px
      width: 30px
      height: 20px
      margin: -20px 0
      font-size: $font-size-large
      text-align: left


// Listing two column layouts
//
// Markup: html/listing-columns-two.html
//
// Styleguide 4.1.4

// Listing three column layouts
//
// Markup: html/listing-columns-three.html
//
// Styleguide 4.1.5

// Listing row two layout
//
// Markup: html/listing.html
//
// .listing--row-two - row two
//
// Styleguide 4.1.6

// Listing row three layout
//
// Markup: html/listing.html
//
// .listing--row-three - row three
//
// Styleguide 4.1.7

.listing--columns-three,
.listing--columns-two,
.listing--row-three,
.listing--row-two
  p
    padding: 0

.listing--columns-three,
.listing--columns-two,
.listing--row-three,
.listing--row-two
  @extend .row

.listing--columns-two
  .listing__column
    margin-bottom: 20px
    @extend .col-sm-6


.listing--columns-three
  .listing__column
    @extend .col-md-4


.listing--row-two
  .listing__item
    @extend .col-md-6


.listing--row-three
  .listing__item
    @extend .col-md-4
    margin-top: 15px

.listing__column
  .listing__item
    &:last-child
      padding-bottom: 30px
      border-bottom: 1px $gray-lighter solid

  &:last-child
    .listing__item
      &:last-child
        padding-bottom: 0
        border-bottom: none

@include breakpoint(tablet)
  .listing--columns-two
    .listing__column
      margin-bottom: 0

  .listing--row-two,
  .listing--row-three
    .listing__item
      border-bottom: none
